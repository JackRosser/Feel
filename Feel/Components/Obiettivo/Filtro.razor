@inherits MainClassBase

<div class="@($"row mb-4 filterbox {MainTheme}")">
    <div class="@($"col-12 filtertitle")">Filtra</div>

    <div class="@($"col-6 filterform {MainTheme}")">
        <label for="completamento">@Localizer[ResourceLanguage.Stato]</label>
        <select class="form-select" @onchange="OnCompletedChanged" id="completamento">
            <option value="">@Localizer[ResourceLanguage.Seleziona]</option>
            <option value="true">@Localizer[ResourceLanguage.Completati]</option>
            <option value="false">@Localizer[ResourceLanguage.NonCompletati]</option>
        </select>
    </div>

    <div class="@($"col-6 filterform {MainTheme}")">
        <label for="categoria">@Localizer[ResourceLanguage.Categoria]</label>
        <select class="form-select" @bind="categoriaTemp" @bind:event="onchange" id="categoria">
            <option value="">@Localizer[ResourceLanguage.Seleziona]</option>
            @foreach (var cat in Enum.GetValues<Category>())
            {
                var label = HelperTraduzione.Traduzione(cat, Localizer);
                <option value="@cat">@label</option>
            }
        </select>
    </div>

    <div class="@($"col-12 filterform filteractives {MainTheme}")">
        @if (CompletedFilter.HasValue)
        {
            <span class="badge bg-secondary me-1">
                @((CompletedFilter.Value ? "Completati" : "Non completati"))
                <button class="btn btn-sm btn-close ms-1" @onclick="ClearCompletedFilter"></button>
            </span>
        }

        @foreach (var cat in CategorieSelezionate)
        {
            <span class="badge bg-secondary me-1">
                @HelperTraduzione.Traduzione(cat, Localizer)
                <button class="btn btn-sm btn-close ms-1" @onclick="@(() => ClearCategoria(cat))"></button>
            </span>
        }

        @if (CompletedFilter.HasValue || CategorieSelezionate.Any())
        {
            <button class="btn btn-link text-danger" @onclick="ResetFilters">Reset</button>
        }
    </div>
</div>
